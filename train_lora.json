{"id":"64f1bf8f-d1c6-405a-b920-430211113eb7","revision":0,"last_node_id":30,"last_link_id":28,"nodes":[{"id":19,"type":"LoadImageTextSetFromFolderNode","pos":[-1031.5498046875,354.640380859375],"size":[358.2574157714844,150],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":24},{"localized_name":"folder","name":"folder","type":"COMBO","widget":{"name":"folder"},"link":null},{"localized_name":"resize_method","name":"resize_method","shape":7,"type":"COMBO","widget":{"name":"resize_method"},"link":null},{"localized_name":"width","name":"width","shape":7,"type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","shape":7,"type":"INT","widget":{"name":"height"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[21,22]},{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[25]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.64","Node name for S&R":"LoadImageTextSetFromFolderNode"},"widgets_values":["dataset_Lora_test","None",-1,-1]},{"id":11,"type":"CheckpointLoaderSimple","pos":[-1030.974853515625,199.21792602539062],"size":[270,98],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[18]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[24]},{"localized_name":"VAE","name":"VAE","type":"VAE","links":[13]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["sd_xl_base_1.0.safetensors"]},{"id":10,"type":"VAEEncode","pos":[-578.4002075195312,50.552818298339844],"size":[140,46],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"pixels","name":"pixels","type":"IMAGE","link":21},{"localized_name":"vae","name":"vae","type":"VAE","link":13}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[19]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"VAEEncode"},"widgets_values":[]},{"id":15,"type":"TrainLoraNode","pos":[-631.3494262695312,201.2855987548828],"size":[301.08331298828125,430],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":18},{"localized_name":"latents","name":"latents","type":"LATENT","link":19},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":25},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null},{"localized_name":"grad_accumulation_steps","name":"grad_accumulation_steps","type":"INT","widget":{"name":"grad_accumulation_steps"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"learning_rate","name":"learning_rate","type":"FLOAT","widget":{"name":"learning_rate"},"link":null},{"localized_name":"rank","name":"rank","type":"INT","widget":{"name":"rank"},"link":null},{"localized_name":"optimizer","name":"optimizer","type":"COMBO","widget":{"name":"optimizer"},"link":null},{"localized_name":"loss_function","name":"loss_function","type":"COMBO","widget":{"name":"loss_function"},"link":null},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"training_dtype","name":"training_dtype","type":"COMBO","widget":{"name":"training_dtype"},"link":null},{"localized_name":"lora_dtype","name":"lora_dtype","type":"COMBO","widget":{"name":"lora_dtype"},"link":null},{"localized_name":"algorithm","name":"algorithm","type":"COMBO","widget":{"name":"algorithm"},"link":null},{"localized_name":"gradient_checkpointing","name":"gradient_checkpointing","type":"BOOLEAN","widget":{"name":"gradient_checkpointing"},"link":null},{"localized_name":"existing_lora","name":"existing_lora","type":"COMBO","widget":{"name":"existing_lora"},"link":null}],"outputs":[{"localized_name":"model_with_lora","name":"model_with_lora","type":"MODEL","links":null},{"localized_name":"lora","name":"lora","type":"LORA_MODEL","links":[16]},{"localized_name":"loss","name":"loss","type":"LOSS_MAP","links":[11]},{"localized_name":"steps","name":"steps","type":"INT","links":[17]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"TrainLoraNode"},"widgets_values":[1,8,1000,0.0003,8,"AdamW","MSE",550337636151787,"fixed","bf16","bf16","LoRA",true,"[None]"]},{"id":9,"type":"LossGraphNode","pos":[-246.66908264160156,336.3191223144531],"size":[278.72186279296875,272.18048095703125],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"loss","name":"loss","type":"LOSS_MAP","link":11},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"LossGraphNode"},"widgets_values":["loss_graph"]},{"id":12,"type":"PreviewImage","pos":[-994.4057006835938,557.0089721679688],"size":[182.79225158691406,56.02386474609375],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":22}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":14,"type":"SaveLoRANode","pos":[-255.5198211669922,45.9736213684082],"size":[285.263427734375,232.21673583984375],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"lora","name":"lora","type":"LORA_MODEL","link":16},{"localized_name":"steps","name":"steps","shape":7,"type":"INT","link":17},{"localized_name":"prefix","name":"prefix","type":"STRING","widget":{"name":"prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.49","Node name for S&R":"SaveLoRANode"},"widgets_values":["loras/ChangedDataset"]}],"links":[[11,15,2,9,0,"LOSS_MAP"],[13,11,2,10,1,"VAE"],[16,15,1,14,0,"LORA_MODEL"],[17,15,3,14,1,"INT"],[18,11,0,15,0,"MODEL"],[19,10,0,15,1,"LATENT"],[21,19,0,10,0,"IMAGE"],[22,19,0,12,0,"IMAGE"],[24,11,1,19,0,"CLIP"],[25,19,1,15,2,"CONDITIONING"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.6670694864048361,"offset":[1575.5722243552932,58.99582289511841]}},"version":0.4}